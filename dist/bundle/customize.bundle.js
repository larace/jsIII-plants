(()=>{"use strict";function e(e){const o="Assets/";document.getElementById("customization-preview").innerHTML=`\n      <h2>${e.name}</h2>\n      <div class="plant-composition">\n        <img src="${o}${e.pot.style.replace(/\s/g,"-")}-${e.pot.material.replace(/\s/g,"-")}.png" alt="Maceta">\n        ${e.extras.includes("pebbles")?`<img src="${o}pebbles.png" alt="Piedritas">`:""}\n        ${e.extras.includes("smaller-plants")?`<img src="${o}mini-plants.png" alt="Mini Plantas">`:""}\n        ${e.extras.includes("moss-pole")?`<img src="${o}moss-pole.png" alt="Moss Pole">`:""}\n        <img src="${o}${e.soil.split(" ").reverse().join("-")}.png" alt="Bolsa del tipo de suelo">\n        <img src="${o}plant-${e.name.replace(/\s/g,"-")}.png" alt="Planta">\n      </div>\n      <p><strong>Name:</strong> ${t(e.name)}</p>\n      <p><strong>Soil:</strong> ${e.soil}</p>\n      <p><strong>Pot:</strong> ${n(e.pot)}</p>\n      <p><strong>Extras:</strong> ${e.extras.join(", ")}</p>\n    `}function t(e){return e.charAt(0).toUpperCase()+e.slice(1)}function n(e){let t=`${e.material.toLowerCase()} pot`;return e.decorations&&(t+=` with ${e.material.toLowerCase()} decorations`),t+=` (${e.color.toLowerCase()})`,t}document.addEventListener("DOMContentLoaded",(()=>{const o=localStorage.getItem("plantRecommendation"),s=JSON.parse(o);s&&e(s);const r=document.getElementById("potColorToggle"),a=document.getElementById("potColorOptions");r.addEventListener("change",(()=>{a.style.display=r.checked?"block":"none"}));const l=document.getElementById("customizationForm"),i=(document.getElementById("customization-preview"),new class{constructor(){this.observers=[]}subscribe(e){this.observers.push(e)}notifyObservers(e){this.observers.forEach((t=>t.update(e)))}}),p={update:function(t){e(t)}},c={update:function(e){showCustomizationText(e)}};i.subscribe(p),i.subscribe(c),l.addEventListener("change",(()=>{const e=getCustomizationFromForm();i.notifyObservers(e)})),l.addEventListener("submit",(e=>{e.preventDefault();const t=getCustomizationFromForm();i.notifyObservers(t)})),l.addEventListener("change",(()=>{!function(e){const o="Assets/",s=document.getElementById("customization-preview");s.innerHTML=`\n          <h2>Your Customized Plant</h2>\n          <div class="plant-composition">\n          <img src="${o}${e.pot.material.toLowerCase()}-${e.pot.decorations?"decorated-":""}${e.pot.color.toLowerCase()}.png" alt="Pot">\n          ${e.extras.includes("Pebbles")?`<img src="${o}pebbles.png" alt="Pebbles">`:""}\n          ${e.extras.includes("Smaller plants")?`<img src="${o}mini-plants.png" alt="Mini Plants">`:""}\n          ${e.extras.includes("Moss pole")?`<img src="${o}moss-pole.png" alt="Moss Pole">`:""}\n          <img src="${o}${e.soilType.split(" ").reverse().join("-").toLowerCase()}.png" alt="Soil">\n          <img src="${o}plant-${e.plantType.replace(/\s/g,"-").toLowerCase()}.png" alt="Plant">\n          </div>\n          <p><strong>Name:</strong> ${t(e.plantType)}</p>\n          <p><strong>Soil:</strong> ${e.soilType}</p>\n          <p><strong>Pot:</strong> ${n(e.pot)}</p>\n          <p><strong>Extras:</strong> ${e.extras.join(", ")}</p>\n        `,s.querySelector(".plant-composition").innerHTML=`\n        <img src="${o}pots/${e.pot.material.toLowerCase()}-${e.pot.decorations?"decorated":"undecorated"}-${e.pot.color.toLowerCase()}.png" alt="Pot">\n        ${e.extras.includes("Pebbles")?`<img src="${o}pebbles.png" alt="Pebbles">`:""}\n        ${e.extras.includes("Smaller plants")?`<img src="${o}mini-plants.png" alt="Mini Plants">`:""}\n        ${e.extras.includes("Moss pole")?`<img src="${o}moss-pole.png" alt="Moss Pole">`:""}\n        <img src="${o}soil-${e.soilType.toLowerCase().replace(/\s/g,"-")}.png" alt="Bolsa del tipo de suelo">\n        <img src="${o}plant-${e.plantType.toLowerCase().replace(/\s/g,"-")}.png" alt="Plant">\n        `}({pot:{material:document.querySelector('input[name="potMaterial"]:checked').value,decorations:document.querySelector('input[name="potDecorations"]').checked,color:document.querySelector('input[name="potColorToggle"]').checked?document.querySelector('input[name="potColor"]:checked').value:"unpainted"},plantType:document.querySelector('select[name="plantType"]').value,soilType:document.querySelector('input[name="soilType"]:checked').value,extras:Array.from(document.querySelectorAll('input[name="extras"]:checked')).map((e=>e.value))})}))}))})();